---
title: changelog
date: '2023-01-09'
lastmod: '2022-12-28'
draft: false
summary: Updates and bug fixes for this website.
layout: PostTimeLayout
---

<TOCInline toc={props.toc} asDisclosure />

## Masonry Layout

There's quick way to do it with Tailwind CSS: `columns-2`. But the problem with this is that it didn't sort the dates from left to right. I discovered [React Masonry CSS](https://www.npmjs.com/package/react-masonry-css) by [Paul Collett](https://github.com/paulcollett) which helped solve the problem.

After installing it, I added this block of code to my `tailwind.css` file.

```js:tailwind.css
// to see list of all values, go to the React Masonry CSS link above
.my-masonry-grid {
  display: flex;
  width: auto;
  margin: -10px; /* gutter size offset */
}
.my-masonry-grid_column {
  padding: 10px; /* gutter size */
  background-clip: padding-box;
}

/* style items */
.my-masonry-grid_column > div { /* change div to reference elements in <Masonry> */
  margin-bottom: 20px;
}
```

Then added this my react component.

```js:index.tsx
import Masonry from 'react-masonry-css'

const breakpointColumnsObj = {
  default: 2, // default number of columns
  768: 1, // breakpoint of going to 1 column
}

<Masonry
  breakpointCols={breakpointColumnsObj}
  className="my-masonry-grid"
  columnClassName="my-masonry-grid_column"
>
...
</Masonry>
```

---

## Video Inside iPhone Mockup

In my previous website, I could just create a video with the same background as the website to blend it in. This wouldn't work for this website iteration, because of light/dark mode. I had to record the video and then put it into an iPhone mockup.

```js:VideoPlayer.tsx
import Image from 'next/image'
import { useRef } from 'react'

const VideoPlayer = ({ link, poster }) => {
  const videoRef = useRef<HTMLVideoElement>() // persists value between renders

  return (
    <div className="flex flex-col items-center relative justify-center">
      // places iPhone screen over video
      <div className="absolute z-10">
        // iPhone mockup screen, adjust width and height to fit over video
        <Image alt="iPhone screen" src={iPhone.png} width={x1} height={y1} />
      </div>
      <div>
        <video
          src={link} // link to video
          poster={poster} // link to poster image
          ref={videoRef}
          width={x2}
          height={y2} 
          loop
          muted
          playsInline
        />
      </div>
    </div>
  )
}
export default VideoPlayer
```

After placing the video inside the iPhone screen, I wanted to have a play/pause button away from the video. Something similar to what Apple does on their website. I added this block of code to `VideoPlayer.tsx`.

```js:VideoPlayer.tsx
import { useRef, useState } from 'react'
import { MdOutlinePauseCircleOutline, MdOutlinePlayCircleOutline } from 'react-icons/md'

const VideoPlayer = ({ link, poster }) => {
  const [isPlaying, setIsPlaying] = useState(false)
  const videoRef = useRef<HTMLVideoElement>()

  // pauses and plays the video
  const playVideo = () => {
    setIsPlaying(() => {
      if (isPlaying) {
        videoRef.current.pause()
      } else {
        videoRef.current.play()
      }
      return !isPlaying
    })
  }

  return (
    <div className="flex justify-center font-medium text-blue-500">
      // on button click, the video pauses or plays depending on current state
      <button onClick={playVideo} className="rounded">
        {isPlaying ? (
          <span className="flex items-center justify-between gap-1">
            <MdOutlinePauseCircleOutline className="h-5 w-5" /> Pause
          </span>
        ) : (
          <span className="flex items-center justify-between gap-1">
            <MdOutlinePlayCircleOutline className="h-5 w-5" /> Play
          </span>
        )}
      </button>
    </div>
  )
}
export default VideoPlayer
```

---

## Custom Styles For Tailwind CSS

Easily add custom styles to the `tailwind.css` file. Those styles can then be used globally without having to rewrite them.

```js:tailwind.css
// example of my image grid
.projectImageGrid {
  @apply grid grid-cols-2 py-8 -m-2 sm:grid-cols-4;
}
```

I wanted to change the color scheme for border styles in dark mode. I applied the following under `@layer components`.

```js:tailwind.css
// applies to all componenets listed below
@layer components {
  .border,
  ... {
      @apply dark:border-gray-800;
  }
}
```

---

## Safari NavBar Hover Bug

While hovering over the NavBar links, it didn't work as intended for safari browsers. Putting `button` tag inside the `Link` tag helped the problem. Not sure if this is the best fix or if there's another solution.

```js
<Link>
  <button>...</button>
</Link>
```

---

## Home Page Fix

I was trying to figure out how to make the home page a one pager without scroll. Did some research and found that using `100vh` (viewport, height of browser) minus the NavBar helped solve the issue.

```js:index.tsx
// height for my NavBar is 60px
// centers content into the middle as a one pager without scroll
<div className="flex h-[calc(100vh-60px)] items-center justify-center px-6">
  ...
</div>
```
